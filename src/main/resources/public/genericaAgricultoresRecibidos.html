<!DOCTYPE html>
<html>

<head>
    <title>InformacionAgricultores</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!------ Include the above in your HEAD tag ---------->

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link href="style2.css" rel="stylesheet" id="bootstrap-css">

    <!------ ÑAPA MOMENTANEA ---------->
    <script type="text/javascript" src="data.json"></script>

    <!------ ÑAPAÑAPAÑAPAÑAP ---------->

</head>

<body>
    <div class="container register agricultores">
        <div class="row">

            <div class="col-md-3 register-left">
                <img src="https://jaestic.com/wp-content/uploads/2014/07/info4.png" alt="" />
                <h1>Pedidos</h1>
            </div>
            <div class="col-md-9 register-right largotienda">
                <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link" id="home" data-toggle="submit" href="#home" role="submit" aria-controls="home" aria-selected="true" onclick="window.location.href='/';">Log out</a>
                    </li>
                </ul>
                <div class="col-3 borde">
                    <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link" id="home2" data-toggle="submit" href="#home2" role="submit" aria-controls="home2" aria-selected="true" onclick="window.location.href='agricultoresListaPedidosRecibidos.html';">Volver</a>
                        </li>
                    </ul>
                </div>
                <div class="row register-form">
                    <!--<h3 class="register-heading">¿Qué desea realizar?</h3>-->
                    <div class="row register-form">
                        <div class="col">

                            <h3>Pedidos Solicitados<br><br></h3>

                            <div class="container">
                                <table id="my_table" class="table">
                                </table>
                            </div>
                            <a class="btn" onclick="mostrar(); style.display = 'none' " href="#">MOSTRAR PEDIDOS</a>
                            <a class="btn" onclick="window.location.href='genericaAgricultoresRecibidos.html'" href="#">VOLVER</a>

                        </div>
                    </div>

                    <div class="form-group">
                        <div class="maxl">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function mostrar() {
            var local_data = data;
            var productos = '<tr>' +
                ' <td>' + 'Cantidad ' + '</td>' +
                ' <td>' + ' Productos ' + '</td>' +

                '</tr>' +

                '<tr>' +

                ' <td>' + local_data.productos.cant_malta_palida + '</td>' +
                ' <td>' + ' Malta Palida' + '</td>' +

                '</tr>' +

                '<tr>' +

                ' <td>' + local_data.productos.cant_malta_munich + '</td>' +
                ' <td>' + ' Malta Munich' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_malta_negra + '</td>' +
                ' <td>' + ' Malta Negra' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_malta_crystal + '</td>' +
                ' <td>' + ' Malta Crystal' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_malta_chocolate + '</td>' +
                ' <td>' + ' Malta Chocolate' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_malta_caramelo + '</td>' +
                ' <td>' + ' Malta Caramelo' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_cebada + '</td>' +
                ' <td>' + ' Cebada' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_cebada_tostada + '</td>' +
                ' <td>' + ' Cebada Tostada' + '</td>' +

                '</tr>' +
                '<tr>' +

                ' <td>' + local_data.productos.cant_lupulo_centenial + '</td>' +
                ' <td>' + ' Lupulo Centenial' + '</td>' +

                '</tr>';

            var table_body_element = document.createElement('tbody');
            table_body_element.innerHTML = productos;
            document.getElementById('my_table').appendChild(table_body_element);

        }
    </script>

    <script>
        function login() {
            hacerPeticion();

        }

        function hacerPeticion() {
            var request = $.ajax({
                // la URL para la petición
                url: '/obtenerPedido',

                // la información a enviar
                // (también es posible utilizar una cadena de datos)
                data: "aqui va el id del pedido",

                // especifica si será una petición POST o GET
                type: 'Get',

                // el tipo de información que se espera de respuesta
                dataType: 'json',

            });

            request.done(function(data) {

                //TODO Este metodo redirige a la URL
                windows.append('/Cooperativa');

            });

            request.fail(function(data) {

                alert("Error en el servidor");

            });

        }

        function paraJson() {
            //Aqui convertimos parametros -> json
            /*
    var miObjeto = new Object();
		miObjeto.destino = document.getElementById("destino").value;
		miObjeto.identificador = document.getElementById("identificador").value;

		miObjeto.malta_palida = document.getElementById("malta_palida").value;
		miObjeto.malta_munich = document.getElementById("malta_munich").value;
		miObjeto.malta_negra = document.getElementById("malta_negra").value;
		miObjeto.malta_crystal = document.getElementById("malta_crystal").value;
		miObjeto.malta_chocolate = document.getElementById("malta_chocolate").value;
		miObjeto.malta_caramelo = document.getElementById("malta_caramelo").value;

		miObjeto.cebada = document.getElementById("cebada").value;
		miObjeto.cebada_tostada = document.getElementById("cebada_tostada").value;

		miObjeto.lupulo_centinental = document.getElementById("lupulo_centinental").value;

    var jsonText = JSON.stringify(miObjeto);
    */

            var object = {
                id: "",
                actorOrigen: {
                    id: 15,
                    nombreUsuario: "",
                    email: "",
                    tipoActor: 1
                },
                "actorDestino": {
                    id: document.getElementById("identificador").value,
                    nombreUsuario: "",
                    email: "",
                    "tipoActor": 0
                },
                necesitaTransportista: true,
                productos: {
                    cant_malta_palida: document.getElementById("malta_palida").value,
                    cant_malta_munich: document.getElementById("malta_munich").value,
                    cant_malta_negra: document.getElementById("malta_negra").value,
                    cant_malta_crystal: document.getElementById("malta_crystal").value,
                    cant_malta_chocolate: document.getElementById("malta_chocolate").value,
                    cant_malta_caramelo: malta_caramelo: document.getElementById("malta_caramelo").value,
                    cant_cebada: document.getElementById("cebada").value,
                    cant_cebada_tostada: document.getElementById("cebada_tostada").value,
                    cant_lupulo_centenial: document.getElementById("lupulo_centinental").value,
                    cant_cajas_stout: 0,
                    cant_cajas_bisner: 0
                },
                mensaje: "Petición de prueba.",
                estado: 0,
                idPadre: 0,
                idHijo: 0,
                transportista: {
                    id: 0,
                    nombreUsuario: "",
                    email: "",
                    tipoActor: 0
                }

            };

            var jsonText = JSON.stringify(object);

        }
    </script>
</body>

</html>