<html lang="es">
<head>
    <title>Prediccion Actor</title>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet"
          id="bootstrap-css">
    <link href="prueba.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
  <script>
  function creaTabla(){
   var request = $.ajax({
   url : '/',

   type : 'GET',
   dataType : 'json',
   });
 request.done(function(response){
   //var fecha = response.fechaInicio;
   alert("llama funcion ajax correcta");
   //$('#Llegada').text(fecha);

   for (var element in response["data"]){
     var i = 0;
           console.log(element)
           var row = table.insertRow();
           var cell = row.insertCell()
           cell.innerHTML = response["data"][element]["name"];

           for (var month in response["data"][element]["meses"]){
               row.insertCell().innerHTML = month;
           }
           row.insertCell().innerHTML = response["prediccion"][i];
           i=i+1;
       }

  });
  request.fail(function(response) {

   
 var response = { "data":
           [{
                   "name": "Malta Base Palida",
                   "meses": [6,4,2,3,6,4,2,3,6,4,2,3]
               },{
                   "name": "Malta Base Palida",
                   "meses": [6,4,2,3]
               },{
                   "name": "Malta Base Palida",
                   "meses": [6,4,2,3]
               },{
                   "name": "Malta Base Palida",
                   "meses": [6,4,2,3]
               },{
                   "name": "Malta Base Palida",
                   "meses": [6,4,2,3]
               },
               {
                   "name": "Malta Base Palida",
                   "meses": [6,4,2,3]
               },
               {
                   "name": "Coco",
                   "meses": [3,2,1,0]
               }
           ],
           "prediccion":[1,2,3,4,5,6,7,8,9]
 }
       var table = document.getElementById("mi_Tabla");
   

          // row.insertCell().innerHTML = response["prediccion"][i];
         //  i=i+1;
       }

  );
 }




</script>
    <script id ="speedCanvas">
      function prueba() {var speedCanvas = document.getElementById("speedChart");
      Chart.defaults.global.defaultFontFamily = "Lato";
      Chart.defaults.global.defaultFontSize = 14;
      var speedData = {
  labels: [ "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic","Ene", "Feb", "Mar", "Abr", "May"],
  datasets: [{
    label: "Malta Base Palida",
    data: [0, 20, 20, 0, 20, 20, 0, 20, 19, 1, 20, 51],
    borderColor: 'red',
    backgroundColor: 'transparent',
        },
        {label : "Malta Munich",
        data : [0, 240, 240, 0, 240, 240, 0, 240, 228, 12, 240, 277],
        borderColor: 'orange',
        backgroundColor: 'transparent',

        },
        {label : "Cebada Tostada",
        data : [0, 40, 40, 0, 40, 40, 0, 40, 38, 2, 40, 52],
        borderColor : 'blue',
        backgroundColor: 'transparent',

        },
        {label : "Malta Negra",
        data : [0, 80, 80, 0, 80, 80, 0, 80, 76, 4, 80, 114],
        borderColor: 'pink',
        backgroundColor: 'transparent',

        },
        {label : "Malta Crystal",
        data : [0, 60, 60, 0, 60, 60, 0, 60, 57, 3, 60, 70],
        borderColor: 'yellow',
        backgroundColor: 'transparent',

        },
        {label : "Malta Chocolate",
        data : [0, 20, 20, 0, 20, 20, 0, 20, 19, 1, 20, 350],
        borderColor: 'purple',
        backgroundColor: 'transparent',

        },
        {label : "Malta Caramelo",
        data : [0, 160, 160, 0, 160, 160, 0, 160, 152, 8, 160, 2784],
        borderColor: 'green',
        backgroundColor: 'transparent',

        },
        {label : "Lupulo Centennial",
        data : [0, 200, 200, 0, 200, 200, 0, 200, 190, 10, 200, 233],
        borderColor: 'brown',
        backgroundColor: 'transparent',

        },
        {label : "Levadura Ale",
        data : [0, 20, 20, 0, 20, 20, 0, 20, 19, 1, 20, 44],
        borderColor: 'black',
        backgroundColor: 'transparent',

        },
        {label : "Malta Pilsner",
        data : [0, 180, 180, 0, 180, 180, 0, 180, 171, 9, 180, 218],
        borderColor: 'gold',
        backgroundColor: 'transparent',

        },
        {label : "Lupulo Perle",
        data : [0, 40, 40, 0, 40, 40, 0, 40, 38, 2, 40,75],
        borderColor: 'grey',
        backgroundColor: 'transparent',

        },
        {label : "Lupulo Tettnanger",
        data : [0, 60, 60, 0, 60, 60, 0, 60, 57, 3, 60, 92],
        borderColor: 'aqua',
        backgroundColor: 'transparent',

        },
        {label : "Levadura Lager",
        data : [0, 80, 80, 0, 80, 80, 0, 80, 76, 4, 80, 101],
        borderColor: 'fuchsia',
        backgroundColor: 'transparent',

        }
        ]
          };

      var chartOptions = {
       legend: {
       display: true,
       position: 'right',
       labels: {
        boxWidth: 20,
       fontColor: 'black'
    }
  }
};

var lineChart = new Chart(speedCanvas, {
  type: 'line',
  data: speedData,
  options: chartOptions
});
}</script>
</head>
<body onload="prueba();creaTabla();" style="display: block; height: 100%; !important">

<div class="container-fluid register">
    <div class="row">
        <div class="col-md-3 register-left">
            <img src="icono-agricultor.png" alt=""/>
            <h1>Agricultor</h1>
            <!--<p>Pedidos recibidos</p>
            <input type="submit" name="" value="Log out"/><br/>
                -->
        </div>

        <div class="col-md-8 register-right">
            <div class="row">
                <div class="col-md-4 offset-md-2">
                    <h3 class="register-heading">Predicci√≥n Agricultor</h3>
                </div>

                <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link" id="home" data-toggle="submit" href="agricultoresInicio.html" role="submit" aria-controls="home"
                           aria-selected="true">Volver</a>
                    </li>


                </ul>
                </div>
                <br/><br/>

                <div class="col-md-9" style="position:inline; margin-left: 40px">
                  <canvas id="speedChart" width="600" height="400">
                    
                  </canvas>
                </div>
                <div>
                <table class="table table-sm" id="mi_Tabla">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Jun</th>
      <th scope="col">Jul</th>
      <th scope="col">Ago</th>
      <th scope="col">Sep</th>
      <th scope="col">Oct</th>
      <th scope="col">Nov</th>
      <th scope="col">Dic</th>
      <th scope="col">Ene</th>
      <th scope="col">Feb</th>
      <th scope="col">Mar</th>
      <th scope="col">Abr</th>
      <th scope="col">May</th>
      <th scope="col">PREDICCION</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">Malta Base Palida</th>
      <td>0</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
      <td>20</td>
      <td>19</td>
      <td>1</td>
      <td>20</td>
      <td>51</td>
      <td>7</td>
    </tr>
    <tr>
      <th scope="row">Malta Munich</th>
      <td>0</td>
      <td>240</td>
      <td>240</td>
      <td>0</td>
      <td>240</td>
      <td>240</td>
      <td>0</td>
      <td>240</td>
      <td>228</td>
      <td>12</td>
      <td>240</td>
      <td>277</td>
      <td>81</td>
    </tr>
    <tr>
      <th scope="row">Cebada Tostada</th>
      <td>0</td>
      <td>40</td>
      <td>40</td>
      <td>0</td>
      <td>40</td>
      <td>40</td>
      <td>0</td>
      <td>40</td>
      <td>38</td>
      <td>2</td>
      <td>40</td>
      <td>52</td>
      <td>13</td>
    </tr>
    <tr>
      <th scope="row">Malta Negra</th>
      <td>0</td>
      <td>80</td>
      <td>80</td>
      <td>0</td>
      <td>80</td>
      <td>80</td>
      <td>0</td>
      <td>80</td>
      <td>76</td>
      <td>4</td>
      <td>80</td>
      <td>114</td>
      <td>28</td>
    </tr>
    <tr>
      <th scope="row">Malta Crystal</th>
      <td>0</td>
      <td>60</td>
      <td>60</td>
      <td>0</td>
      <td>60</td>
      <td>60</td>
      <td>0</td>
      <td>60</td>
      <td>57</td>
      <td>3</td>
      <td>60</td>
      <td>70</td>
      <td>20</td>
    </tr>
    <tr>
      <th scope="row">Malta Chocolate</th>
      <td>0</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
      <td>20</td>
      <td>19</td>
      <td>1</td>
      <td>20</td>
      <td>350</td>
      <td>20</td>
    </tr>
    <tr>
      <th scope="row">Malta Caramelo</th>
      <td>0</td>
      <td>160</td>
      <td>160</td>
      <td>0</td>
      <td>160</td>
      <td>160</td>
      <td>0</td>
      <td>160</td>
      <td>152</td>
      <td>8</td>
      <td>160</td>
      <td>2784</td>
      <td>162</td>
    </tr>
    <tr>
      <th scope="row">Lupulo Centennial</th>
      <td>0</td>
      <td>200</td>
      <td>200</td>
      <td>0</td>
      <td>200</td>
      <td>200</td>
      <td>0</td>
      <td>200</td>
      <td>190</td>
      <td>10</td>
      <td>200</td>
      <td>233</td>
      <td>68</td>
    </tr>
    <tr>
      <th scope="row">Levadura Ale</th>
      <td>0</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
      <td>20</td>
      <td>20</td>
      <td>0</td>
      <td>20</td>
      <td>19</td>
      <td>1</td>
      <td>20</td>
      <td>44</td>
      <td>7</td>
    </tr>
    <tr>
      <th scope="row">Malta Pilsner</th>
      <td>0</td>
      <td>180</td>
      <td>180</td>
      <td>0</td>
      <td>180</td>
      <td>180</td>
      <td>0</td>
      <td>180</td>
      <td>171</td>
      <td>9</td>
      <td>180</td>
      <td>218</td>
      <td>61</td>
    </tr>
    <tr>
      <th scope="row">Lupulo Perle</th>
      <td>0</td>
      <td>40</td>
      <td>40</td>
      <td>0</td>
      <td>40</td>
      <td>40</td>
      <td>0</td>
      <td>40</td>
      <td>38</td>
      <td>2</td>
      <td>40</td>
      <td>75</td>
      <td>14</td>
    </tr>
    <tr>
      <th scope="row">Lupulo Tettnanger</th>
      <td>0</td>
      <td>60</td>
      <td>60</td>
      <td>0</td>
      <td>60</td>
      <td>60</td>
      <td>0</td>
      <td>60</td>
      <td>57</td>
      <td>3</td>
      <td>60</td>
      <td>92</td>
      <td>21</td>
    </tr>
     <tr>
      <th scope="row">Levadura Lager</th>
      <td>0</td>
      <td>80</td>
      <td>80</td>
      <td>0</td>
      <td>80</td>
      <td>80</td>
      <td>0</td>
      <td>80</td>
      <td>76</td>
      <td>4</td>
      <td>80</td>
      <td>101</td>
      <td>27</td>
    </tr>
  </tbody>
</table>
                </div>
                	 	
                 
                
                <br/><br/><br/><br/> <br/><br/>
            
            <br/><br/><br/><br/>

            
            </div>
            
        
</div>
</body>
</html>


